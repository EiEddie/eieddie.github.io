<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
<head>
  <!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="三维空间中旋转的描述# 三维空间中所有正交且行列式为 \(1\) 的矩阵组成一个群, 称为 特殊正交群 \(SO(3)\), 其中的每个元素都代表一种三维空间中的旋转.
另外, \(SO(3)\) 也是一个 李群, 它的 李代数 \(\mathfrak{so}(3)\) 中的元素是轴角向量的外积矩阵.
本篇文章的工作是推导 \(SO(3)\), \(\mathfrak{so}(3)\) 与 \(\mathbb{R}^3\) 中元素的互相转换.
引理# $$\boxed{ [\mathbf{\omega}]_\times^2 = \mathbf{\omega} \mathbf{\omega}^T - \|\mathbf{\omega}\|^2 I }$$$$\begin{align*} ([\mathbf{\omega}]_\times^2)_{ij} &amp;= \varepsilon_{imk} \omega_m ~ \varepsilon_{knj} \omega_n \\ &amp;= \varepsilon_{kim} \varepsilon_{knj} ~ \omega_m \omega_n \\ &amp;= (\delta_{in} \delta_{mj} - \delta_{ij} \delta_{mn}) \omega_m \omega_n \\ &amp;= \omega_i \omega_j - \delta_{ij} \omega_m \omega_m \\ &amp;= (\mathbf{\omega} \mathbf{\omega}^T - \|\mathbf{\omega}\|^2 I)_{ij} \end{align*}$$ $$\boxed{ [\mathbf{\omega}]_\times^3 = - \|\mathbf{\omega}\|^2 [\mathbf{\omega}]_\times }$$$$\begin{align*} [\mathbf{\omega}]_\times^3 &amp;= (\mathbf{\omega} \mathbf{\omega}^T - \|\mathbf{\omega}\|^2 I) [\mathbf{\omega}]_\times \\ &amp;= \mathbf{\omega} \mathbf{\omega}^T [\mathbf{\omega}]_\times - \|\mathbf{\omega}\|^2 [\mathbf{\omega}]_\times \\ &amp;= \mathbf{\omega} ([\mathbf{\omega}]_\times \mathbf{\omega})^T - \|\mathbf{\omega}\|^2 [\mathbf{\omega}]_\times \\ &amp;= \mathbf{\omega} (\mathbf{\omega} \times \mathbf{\omega})^T - \|\mathbf{\omega}\|^2 [\mathbf{\omega}]_\times \\ &amp;= - \|\mathbf{\omega}\|^2 [\mathbf{\omega}]_\times \end{align*}$$ $$\boxed{ \mathrm{rank} [\mathbf{\omega}]_\times = 2 }$$ 其中 \(\mathbf{\omega} \in \mathbb{R}^3 \backslash \{0\}\).
">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="https://example.org/docs/rigid-rotation/">
  <meta property="og:site_name" content="EiEddie&#39;s Mind">
  <meta property="og:title" content="三维空间中旋转的描述">
  <meta property="og:description" content="三维空间中旋转的描述# 三维空间中所有正交且行列式为 \(1\) 的矩阵组成一个群, 称为 特殊正交群 \(SO(3)\), 其中的每个元素都代表一种三维空间中的旋转.
另外, \(SO(3)\) 也是一个 李群, 它的 李代数 \(\mathfrak{so}(3)\) 中的元素是轴角向量的外积矩阵.
本篇文章的工作是推导 \(SO(3)\), \(\mathfrak{so}(3)\) 与 \(\mathbb{R}^3\) 中元素的互相转换.
引理# $$\boxed{ [\mathbf{\omega}]_\times^2 = \mathbf{\omega} \mathbf{\omega}^T - \|\mathbf{\omega}\|^2 I }$$$$\begin{align*} ([\mathbf{\omega}]_\times^2)_{ij} &amp;= \varepsilon_{imk} \omega_m ~ \varepsilon_{knj} \omega_n \\ &amp;= \varepsilon_{kim} \varepsilon_{knj} ~ \omega_m \omega_n \\ &amp;= (\delta_{in} \delta_{mj} - \delta_{ij} \delta_{mn}) \omega_m \omega_n \\ &amp;= \omega_i \omega_j - \delta_{ij} \omega_m \omega_m \\ &amp;= (\mathbf{\omega} \mathbf{\omega}^T - \|\mathbf{\omega}\|^2 I)_{ij} \end{align*}$$ $$\boxed{ [\mathbf{\omega}]_\times^3 = - \|\mathbf{\omega}\|^2 [\mathbf{\omega}]_\times }$$$$\begin{align*} [\mathbf{\omega}]_\times^3 &amp;= (\mathbf{\omega} \mathbf{\omega}^T - \|\mathbf{\omega}\|^2 I) [\mathbf{\omega}]_\times \\ &amp;= \mathbf{\omega} \mathbf{\omega}^T [\mathbf{\omega}]_\times - \|\mathbf{\omega}\|^2 [\mathbf{\omega}]_\times \\ &amp;= \mathbf{\omega} ([\mathbf{\omega}]_\times \mathbf{\omega})^T - \|\mathbf{\omega}\|^2 [\mathbf{\omega}]_\times \\ &amp;= \mathbf{\omega} (\mathbf{\omega} \times \mathbf{\omega})^T - \|\mathbf{\omega}\|^2 [\mathbf{\omega}]_\times \\ &amp;= - \|\mathbf{\omega}\|^2 [\mathbf{\omega}]_\times \end{align*}$$ $$\boxed{ \mathrm{rank} [\mathbf{\omega}]_\times = 2 }$$ 其中 \(\mathbf{\omega} \in \mathbb{R}^3 \backslash \{0\}\).">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">
    <meta property="article:published_time" content="2025-03-01T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-03-01T00:00:00+00:00">
    <meta property="article:tag" content="数学">
    <meta property="article:tag" content="Julia">


  <meta itemprop="name" content="三维空间中旋转的描述">
  <meta itemprop="description" content="三维空间中旋转的描述# 三维空间中所有正交且行列式为 \(1\) 的矩阵组成一个群, 称为 特殊正交群 \(SO(3)\), 其中的每个元素都代表一种三维空间中的旋转.
另外, \(SO(3)\) 也是一个 李群, 它的 李代数 \(\mathfrak{so}(3)\) 中的元素是轴角向量的外积矩阵.
本篇文章的工作是推导 \(SO(3)\), \(\mathfrak{so}(3)\) 与 \(\mathbb{R}^3\) 中元素的互相转换.
引理# $$\boxed{ [\mathbf{\omega}]_\times^2 = \mathbf{\omega} \mathbf{\omega}^T - \|\mathbf{\omega}\|^2 I }$$$$\begin{align*} ([\mathbf{\omega}]_\times^2)_{ij} &amp;= \varepsilon_{imk} \omega_m ~ \varepsilon_{knj} \omega_n \\ &amp;= \varepsilon_{kim} \varepsilon_{knj} ~ \omega_m \omega_n \\ &amp;= (\delta_{in} \delta_{mj} - \delta_{ij} \delta_{mn}) \omega_m \omega_n \\ &amp;= \omega_i \omega_j - \delta_{ij} \omega_m \omega_m \\ &amp;= (\mathbf{\omega} \mathbf{\omega}^T - \|\mathbf{\omega}\|^2 I)_{ij} \end{align*}$$ $$\boxed{ [\mathbf{\omega}]_\times^3 = - \|\mathbf{\omega}\|^2 [\mathbf{\omega}]_\times }$$$$\begin{align*} [\mathbf{\omega}]_\times^3 &amp;= (\mathbf{\omega} \mathbf{\omega}^T - \|\mathbf{\omega}\|^2 I) [\mathbf{\omega}]_\times \\ &amp;= \mathbf{\omega} \mathbf{\omega}^T [\mathbf{\omega}]_\times - \|\mathbf{\omega}\|^2 [\mathbf{\omega}]_\times \\ &amp;= \mathbf{\omega} ([\mathbf{\omega}]_\times \mathbf{\omega})^T - \|\mathbf{\omega}\|^2 [\mathbf{\omega}]_\times \\ &amp;= \mathbf{\omega} (\mathbf{\omega} \times \mathbf{\omega})^T - \|\mathbf{\omega}\|^2 [\mathbf{\omega}]_\times \\ &amp;= - \|\mathbf{\omega}\|^2 [\mathbf{\omega}]_\times \end{align*}$$ $$\boxed{ \mathrm{rank} [\mathbf{\omega}]_\times = 2 }$$ 其中 \(\mathbf{\omega} \in \mathbb{R}^3 \backslash \{0\}\).">
  <meta itemprop="datePublished" content="2025-03-01T00:00:00+00:00">
  <meta itemprop="dateModified" content="2025-03-01T00:00:00+00:00">
  <meta itemprop="wordCount" content="760">
  <meta itemprop="keywords" content="数学,Julia">

<title>三维空间中旋转的描述 | EiEddie&#39;s Mind</title>
<link rel="icon" href="/favicon.png" >
<link rel="manifest" href="/manifest.json">
<link rel="canonical" href="https://example.org/docs/rigid-rotation/">
<link rel="stylesheet" href="/book.min.11270e190e6f52db54f0e3a0a4a7faab75b77e0e50bcbc00224375a7e38fdd7d.css" integrity="sha256-EScOGQ5vUttU8OOgpKf6q3W3fg5QvLwAIkN1p&#43;OP3X0=" crossorigin="anonymous">


  <script defer src="/fuse.min.js"></script>
  <script defer src="/en.search.min.9a3d8aee6992a293362066ff39ba0a197a21c66d42124796f0d0934f3a217c92.js" integrity="sha256-mj2K7mmSopM2IGb/OboKGXohxm1CEkeW8NCTTzohfJI=" crossorigin="anonymous"></script>



  


<script>
  window.MathJax = {
    tex: {
      inlineMath: [['\\(', '\\)']],
      displayMath: [['$$', '$$']]
    },
    options: {
      skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
    }
  };
</script>
<script
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
  async>
</script>



</head>
<body dir="ltr" class="book-kind-page book-type-docs">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    
<aside class="book-menu">
  <div class="book-menu-content">
    
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>EiEddie&#39;s Mind</span>
  </a>
</h2>


<div class="book-search hidden">
  <input id="book-search-input" type="text" 
    placeholder="Search"
    aria-label="Search"
    maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>













  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/hugo-with-math/" class="">
      为 Hugo 添加数学支持</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/static-site-with-hugo/" class="">
      使用 Hugo 搭建静态站点</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/calc-with-unit/" class="">
      带有单位的物理计算</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/qm-angular-momentum/" class="">
      量子力学中的角动量</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/jordan-normal-form/" class="">
      若尔当标准型</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/commutative-lt/" class="">
      可交换的线性变换</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/dynamic-simulation-of-density-fluids/" class="">
      密度流体的动态模拟</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/long-time-ago-a-essay/" class="">
      从中科大回来的时候我母亲就预言了我的今天</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/esp32-dev/" class="">
      ESP32 环境配置与开发</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/mahony-complementary-filter/" class="">
      Mahony 非线性互补滤波器</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/async-serial/" class="">
      异步非阻塞串口数据接收</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/rigid-movement/" class="">
      三维空间中刚体运动的描述</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/rigid-rotation/" class="active">
      三维空间中旋转的描述</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/time-series-forecasting-using-taylor/" class="">
      使用泰勒展开的运动预测</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ballistics/" class="">
      抛体运动弹道解算</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/conventional-commits/" class="">
      约定式提交</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git-submodule/" class="">
      `git` 子模块</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/repo-struct/" class="">
      关于知识库框架结构的一些想法</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git-tips/" class="">
      Git Tips</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/vscode-cmake-with-msvc/" class="">
      Windows 下的现代 C/C&#43;&#43; 开发环境配置</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/linux-to-go/" class="">
      在移动介质中安装操作系统</a>
  

        </li>
      
    
  </ul>













</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>



  </div>
</aside>
 

    <div class="book-page">
      <header class="book-header hidden">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/icons/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <h3>三维空间中旋转的描述</h3>

  <label for="toc-control">
    
    <img src="/icons/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#引理">引理</a></li>
    <li><a href="#正文">正文</a></li>
    <li><a href="#杂七杂八">杂七杂八</a></li>
    <li><a href="#资源">资源</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown book-article"><h1 id="三维空间中旋转的描述">三维空间中旋转的描述<a class="anchor" href="#%e4%b8%89%e7%bb%b4%e7%a9%ba%e9%97%b4%e4%b8%ad%e6%97%8b%e8%bd%ac%e7%9a%84%e6%8f%8f%e8%bf%b0">#</a></h1>
<p>三维空间中所有正交且行列式为 \(1\) 的矩阵组成一个群, 称为 <em>特殊正交群</em> \(SO(3)\),
其中的每个元素都代表一种三维空间中的旋转.</p>
<p>另外, \(SO(3)\) 也是一个 <em>李群</em>, 它的 <em>李代数</em> \(\mathfrak{so}(3)\) 中的元素是轴角向量的外积矩阵.</p>
<p>本篇文章的工作是推导 \(SO(3)\), \(\mathfrak{so}(3)\) 与 \(\mathbb{R}^3\) 中元素的互相转换.</p>
<h2 id="引理">引理<a class="anchor" href="#%e5%bc%95%e7%90%86">#</a></h2>
$$\boxed{
[\mathbf{\omega}]_\times^2 = \mathbf{\omega} \mathbf{\omega}^T - \|\mathbf{\omega}\|^2 I
}$$$$\begin{align*}
([\mathbf{\omega}]_\times^2)_{ij} &= \varepsilon_{imk} \omega_m ~ \varepsilon_{knj} \omega_n \\
                                  &= \varepsilon_{kim} \varepsilon_{knj} ~ \omega_m \omega_n \\
                                  &= (\delta_{in} \delta_{mj} - \delta_{ij} \delta_{mn}) \omega_m \omega_n \\
                                  &= \omega_i \omega_j - \delta_{ij} \omega_m \omega_m \\
                                  &= (\mathbf{\omega} \mathbf{\omega}^T - \|\mathbf{\omega}\|^2 I)_{ij}
\end{align*}$$<hr>
$$\boxed{
[\mathbf{\omega}]_\times^3 = - \|\mathbf{\omega}\|^2 [\mathbf{\omega}]_\times
}$$$$\begin{align*}
[\mathbf{\omega}]_\times^3 &= (\mathbf{\omega} \mathbf{\omega}^T - \|\mathbf{\omega}\|^2 I) [\mathbf{\omega}]_\times \\
                           &= \mathbf{\omega} \mathbf{\omega}^T [\mathbf{\omega}]_\times - \|\mathbf{\omega}\|^2 [\mathbf{\omega}]_\times \\
                           &= \mathbf{\omega} ([\mathbf{\omega}]_\times \mathbf{\omega})^T - \|\mathbf{\omega}\|^2 [\mathbf{\omega}]_\times \\
                           &= \mathbf{\omega} (\mathbf{\omega} \times \mathbf{\omega})^T - \|\mathbf{\omega}\|^2 [\mathbf{\omega}]_\times \\
                           &= - \|\mathbf{\omega}\|^2 [\mathbf{\omega}]_\times
\end{align*}$$<hr>
$$\boxed{
\mathrm{rank} [\mathbf{\omega}]_\times = 2
}$$<p>
其中 \(\mathbf{\omega} \in \mathbb{R}^3 \backslash \{0\}\).</p>
$$\begin{align*}
\mathrm{rank} ~ [\mathbf{\omega}]_\times = 2 & \Leftrightarrow \mathrm{dim} ~ \mathrm{Ker} ~ [\mathbf{\omega}]_\times = 1 \\
& \Leftrightarrow [\mathbf{\omega}]_\times \mathbf{x} = 0 ~ \text{解集的维数为} ~ 1
\end{align*}$$<p>
考察上述方程:
</p>
$$\begin{align*}
[\mathbf{\omega}]_\times \mathbf{x} = 0 & \Leftrightarrow \mathbf{\omega} \times \mathbf{x} = 0 \\
& \Leftrightarrow \| \mathbf{\omega} \times \mathbf{x} \| = 0 \\
& \Leftrightarrow \| \mathbf{\omega} \| \| \mathbf{x} \| \sin{\theta} = 0 \\
& \Leftrightarrow \sin{\theta} = 0 \\
& \Leftrightarrow \theta \in \pi \mathbb{Z} \\
& \Leftrightarrow \mathbf{x} \parallel \mathbf{\omega} \\
& \Leftrightarrow \mathbf{x} \in \left< \mathbf{\omega} \right>
\end{align*}$$<p>
显然 \(\mathrm{dim} \left< \mathbf{\omega} \right> = 1\), 原式得证.</p>
<hr>
<h2 id="正文">正文<a class="anchor" href="#%e6%ad%a3%e6%96%87">#</a></h2>
$$\boxed{\begin{align*}
\wedge: \mathbb{R}^3    &\rightarrow \mathfrak{so}(3)         \\
        \mathbf{\omega} &\mapsto     [\mathbf{\omega}]_\times
\end{align*}}$$<p>\(\wedge\) 将向量映射为反对称矩阵, 并且要求:
</p>
$$\forall \mathbf{v} \in \mathbb{R}^3, \mathbf{\omega} \times \mathbf{v} = \mathbf{\omega}^\wedge \mathbf{v}$$<p>
这也是记号 \([\cdot]_\times\) 的用处.</p>
<p>我们知道 \((\mathbf{\omega} \times \mathbf{v})_i = \varepsilon_{ijk} \omega_j v_k\),
进而 \((\mathbf{\omega}^\wedge \mathbf{v})_i = (\varepsilon_{ijk} \omega_j) v_k\).
于是 \((\mathbf{\omega}^\wedge)_{ik} = \varepsilon_{ijk} \omega_j\), 即
</p>
$$(\mathbf{\omega}^\wedge)_{ij} = \varepsilon_{ikj} \omega_k$$<hr>
$$\boxed{\begin{align*}
\mathrm{exp}: \mathfrak{so}(3)                      &\rightarrow  SO(3) \\
              \theta [\hat{\mathbf{\omega}}]_\times &\mapsto      R
\end{align*}}$$<p>\(\mathrm{exp}\) 将李代数中的元素映射为对应李群中的元素.
\(R = \exp{\theta [\hat{\mathbf{\omega}}]_\times} = \mathrm{e}^{\theta [\hat{\mathbf{\omega}}]_\times}\),
且仍按 \(\mathrm{exp}\) 的级数定义.
于是有
</p>
$$\begin{align*}
R &= \mathrm{e}^{\theta [\hat{\mathbf{\omega}}]_\times} \\
  &= I + \theta [\hat{\mathbf{\omega}}]_\times + \frac{1}{2!} \theta^2 [\hat{\mathbf{\omega}}]_\times^2
       + \frac{1}{3!} \theta^3 [\hat{\mathbf{\omega}}]_\times^3 + \cdots \\
  &= I + (\theta - \frac{1}{3!} \theta^3 + \cdots) [\hat{\mathbf{\omega}}]_\times
       + (\frac{1}{2!} \theta^2 - \frac{1}{4!} \theta^4 + \cdots) [\hat{\mathbf{\omega}}]_\times^2 \\
  &= I + \sin{\theta} [\mathbf{\omega}]_\times + (1-\cos{\theta}) [\hat{\mathbf{\omega}}]_\times^2 \\
  &= \cos{\theta} I + (1-\cos{\theta}) \hat{\mathbf{\omega}} \hat{\mathbf{\omega}}^T + \sin{\theta} [\hat{\mathbf{\omega}}]_\times
\end{align*}$$<p>另外, 对于 \([\mathbf{\omega}]_\times = \theta [\hat{\mathbf{\omega}}]_\times\), 其中 \(\hat{\mathbf{\omega}}\) 为单位向量,
我们有办法直接从 \([\mathbf{\omega}]_\times\) 提取 \(\theta\).</p>
<p>注意到 \([\mathbf{\omega}]_\times^2 = \mathbf{\omega} \mathbf{\omega}^T - \|\mathbf{\omega}\|^2 I\), 两边取迹, 有
</p>
$$\begin{align*}
\mathrm{tr} [\mathbf{\omega}]_\times^2 &= \mathrm{tr} (\mathbf{\omega} \mathbf{\omega}^T - \|\mathbf{\omega}\|^2 I) \\
&= \mathrm{tr} \mathbf{\omega}^T \mathbf{\omega} - \|\mathbf{\omega}\|^2 \mathrm{tr} I \\
&= \|\mathbf{\omega}\|^2 - 3 \|\mathbf{\omega}\|^2 \\
&= -2 \|\mathbf{\omega}\|^2
\end{align*}$$<p>如此, \(\|\mathbf{\omega}\| = \sqrt{-\frac{1}{2} \mathrm{tr} [\mathbf{\omega}]_\times^2}\).</p>
<hr>
$$\boxed{\begin{align*}
\mathrm{log}: SO(3) &\rightarrow  \mathfrak{so}(3) \\
              R     &\mapsto      \theta [\hat{\mathbf{\omega}}]_\times
\end{align*}}$$<p>首先, 确定转角 \(\theta\). 注意到对
\(R = \cos{\theta} I + (1-\cos{\theta}) \hat{\mathbf{\omega}} \hat{\mathbf{\omega}}^T + \sin{\theta} [\hat{\mathbf{\omega}}]_\times\)
两端取迹, 可得
</p>
$$\begin{align*}
\mathrm{tr} R &= \mathrm{tr} (\cos{\theta} I)
                 + \mathrm{tr} ((1-\cos{\theta}) \hat{\mathbf{\omega}} \hat{\mathbf{\omega}}^T)
                 + \mathrm{tr} (\sin{\theta} [\hat{\mathbf{\omega}}]_\times) \\
              &= 3\cos{\theta} + (1-\cos{\theta}) \mathrm{tr} (\hat{\mathbf{\omega}}^T \hat{\mathbf{\omega}}) + 0 \\
              &= 3\cos{\theta} + (1-\cos{\theta}) \mathrm{tr} \| \hat{\mathbf{\omega}} \|^2 \\
              &= 2\cos{\theta} + 1
\end{align*}$$<p>
因此 \(\cos{\theta} = \frac{\mathrm{tr} R - 1}{2}\).</p>
<p>容易发现,
\(R^T = R^{-1} = \cos{(-\theta)} I + (1-\cos{(-\theta)}) \hat{\mathbf{\omega}} \hat{\mathbf{\omega}}^T + \sin{(-\theta)} [\hat{\mathbf{\omega}}]_\times = \cos{\theta} I + (1-\cos{\theta}) \hat{\mathbf{\omega}} \hat{\mathbf{\omega}}^T - \sin{\theta} [\hat{\mathbf{\omega}}]_\times\).
与 \(R\) 作差, 得 \(R-R^T = 2\sin{\theta} [\hat{\mathbf{\omega}}]_\times\).
于是 \([\hat{\mathbf{\omega}}]_\times = \frac{1}{2\sin{\theta}} (R-R^T)\).</p>
<p>这里指出, \(\mathrm{arccos}\) 的值域为 \([0,\pi]\), 貌似会不能覆盖全部 \([0, 2\pi)\) 范围.
事实上, 角度有 \(\theta\) 与 \(2\pi-\theta\) (或 \(-\theta\)) 两种可能, 后者不能从 \(\mathrm{arccos}\) 得到.
但当实际角度为后者时, \([\hat{\mathbf{\omega}}]_\times\) 也多出一个负号.
因此最终角度为 \((-\theta) (-[\hat{\mathbf{\omega}}]_\times) = \theta [\hat{\mathbf{\omega}}]_\times\), 与实际一致.</p>
<p>特殊地, 当 \(\theta = \pi\) 时, 分母为 \(0\), 出现奇异解.
此时发现
\(R = I + \sin{\pi} [\hat{\mathbf{\omega}}]_\times + (1-\cos{\pi}) [\hat{\mathbf{\omega}}]_\times^2 = I + 2 [\hat{\mathbf{\omega}}]_\times^2\),
所以 \([\hat{\mathbf{\omega}}]_\times^2 = \frac{1}{2} (R - I)\).</p>
<p>注意到
\([\mathbf{\omega}]_\times^2 \mathbf{\omega} = [\mathbf{\omega}]_\times (\mathbf{\omega} \times \mathbf{\omega}) = 0\),
因此 \(\mathbf{\omega} \in \mathrm{Ker} [\mathbf{\omega}]_\times^2\).
又有
\(\mathrm{rank} [\mathbf{\omega}]_\times^2 = \mathrm{rank} ([\mathbf{\omega}]_\times^T)^T [\mathbf{\omega}]_\times = \mathrm{rank} [\mathbf{\omega}]_\times^T [\mathbf{\omega}]_\times = \mathrm{rank} [\mathbf{\omega}]_\times = 2\),
可以得出 \(\mathrm{dim} ~ \mathrm{Ker} [\mathbf{\omega}]_\times^2 = 3 - \mathrm{rank} [\mathbf{\omega}]_\times^2 = 1\).</p>
<p>所以对于 \(\theta = \pi\), \(\hat{\mathbf{\omega}} \in \mathrm{Ker} (R - I)\).
不必担心出现多解.</p>
<hr>
<h2 id="杂七杂八">杂七杂八<a class="anchor" href="#%e6%9d%82%e4%b8%83%e6%9d%82%e5%85%ab">#</a></h2>
$$\boxed{
R [\mathbf{\omega}]_\times R^T = [R \mathbf{\omega}]_\times
}$$<p>首先, 不加证明地直接给出:
对于三维空间中按右手排列的一组规范正交基 \(\mathbf{e}_i\), \(i = 1,2,3\),
有 \(\mathbf{e}_i \times \mathbf{e}_j = \varepsilon_{ijk} ~ \mathbf{e}_k\).</p>
$$\begin{align*}
(R [\mathbf{\omega}]_\times R^T)_{ij} &= R_{im} ~ \varepsilon_{mkn} \omega_k ~ R_{jn} \\
&= \varepsilon_{mkn} ~ (R_i)_m ~ \omega_k ~ (R_j)_n \\
&= \mathbf{R}_i \cdot (\mathbf{\omega} \times \mathbf{R}_j) \\
&= - \mathbf{\omega} \cdot (\mathbf{R}_i \times \mathbf{R}_j) \\
&= - \mathbf{\omega} \cdot \varepsilon_{ijk} \mathbf{R}_k \\
&= \varepsilon_{ikj} \mathbf{R}_k \cdot \mathbf{\omega} \\
&= \varepsilon_{ikj} ~ R_{kn} \omega_n \\
&= \varepsilon_{ikj} ~ (R \mathbf{\omega})_k \\
&= ([R \mathbf{\omega}]_\times)_{ij}
\end{align*}$$<p>其中 \(\mathbf{R_i}\) 表示 \(R\) 的第 \(i\) 个列向量.
需要指出, 对于 \(R \in SO(3)\), 因为 \(\mathrm{det} R = 1\),
所以列向量 \(\mathbf{R_i}\), \(i = 1,2,3\) 是以右手坐标排列的.
这也是使用引理的必要条件.</p>
<hr>
<h2 id="资源">资源<a class="anchor" href="#%e8%b5%84%e6%ba%90">#</a></h2>
<p>根据本文编写的代码可以在此处找到 [<a href="https://github.com/EiEddie-s-Mind/julia/blob/master/rotation.jl">Web</a>].</p>
</article>
 
      




  <div class="flex flex-wrap justify-between">
    <div class="flex align-center text-sm text-muted">
      
      <span class="overline" style="font-style:italic;">Last updated: March 1, 2025</span>
    </div>
  </div>




      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">

<div>

</div>

<div>

</div>

</div>





  
  
  
  <div class="flex flex-wrap justify-between">
    <span>
    
      <a href="/docs/rigid-movement/" class="flex align-center">
        <img src="/icons/backward.svg" class="book-icon" alt="Backward" />
        <span>三维空间中刚体运动的描述</span>
      </a>
    
    </span>
    <span>
    
      <a href="/docs/time-series-forecasting-using-taylor/" class="flex align-center">
        <span>使用泰勒展开的运动预测</span>
        <img src="/icons/forward.svg" class="book-icon" alt="Forward" />
      </a>
    
    </span>
  </div>
  


 
        
  
  <div class="book-comments">

</div>
  
 
        
        
  
 
        
  
  
    <script>(function(){document.querySelectorAll("pre:has(code)").forEach(e=>{e.addEventListener("click",e.focus),e.addEventListener("copy",function(t){if(t.preventDefault(),navigator.clipboard){const t=window.getSelection().toString()||e.textContent;navigator.clipboard.writeText(t)}})})})()</script>
  

      </footer>

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
  
  <aside class="book-toc">
    <div class="book-toc-content">
      
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#引理">引理</a></li>
    <li><a href="#正文">正文</a></li>
    <li><a href="#杂七杂八">杂七杂八</a></li>
    <li><a href="#资源">资源</a></li>
  </ul>
</nav>



    </div>
  </aside>
  
 
  </main>

  
</body>
</html>




















